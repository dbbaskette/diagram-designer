{
  "config": {
    "layout": "horizontal",
    "updateInterval": 30000,
    "title": "Insurance Megacorp Demo",
    "nodeGlow": {
      "enabled": true,
      "intensity": 8,
      "spread": 12
    }
  },
  "nodes": [
    {
      "name": "telegen",
      "displayName": "Telematics Generator",
      "description": "Creates Simulated Telematics Data.",
      "icon": "üöó",
      "position": {
        "x": 150,
        "y": 100
      },
      "circleColor": "#3498db",
      "clickBehavior": "url",
      "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/",
      "status": {
        "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/actuator/health",
        "key": "health-check-token-123",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 10000
      },
      "dataGrid": [
        {
          "label": "Total Messages Sent",
          "key": "xyz-apikey-for-webserver",
          "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/actuator/metrics/telematics.messages.sent",
          "valueField": "measurements[0].value"
        },
        {
          "label": "Message/Second",
          "key": "bearer-token-secret-123",
          "url": "https://imc-telematics-gen.apps.tas-ndc.kuhn-labs.com/actuator/metrics/telematics.messages.rate",
          "valueField": "measurements[0].value"
        }
      ],
      "connectTo": [],
      "lineType": "dashed",
      "lineColor": "#3498db",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 2,
        "density": 150,
        "color": "#3498db",
        "count": 5,
        "direction": "target",
        "text": "DATA",
        "label": "Telematics Stream",
        "fontSize": 10,
        "textColor": "#ffffff"
      },
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "teleExchange",
      "displayName": "Telematics Exchange (Queue)",
      "description": "Captures Streaming Data.",
      "icon": "/assets/icons/RabbitMQ.svg",
      "position": {
        "x": 400,
        "y": 100
      },
      "circleColor": "#76D72A",
      "clickBehavior": "url",
      "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/",
      "clickBehavior": "both",
      "status": {
        "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/overview",
        "valueField": "rabbitmq_version",
        "upValue": "4.0.12",
        "downValue": "down",
        "updateInterval": 15000
      },
      "dataGrid": [
        {
          "label": "Messages IN (msgs/sec)",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange",
          "valueField": "message_stats.publish_in_details.rate"
        },
        {
          "label": "Messages OUT (msgs/sec)",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange",
          "valueField": "message_stats.publish_out_details.rate"
        }
      ],
      "connectTo": [
        {
          "target": "telegen",
          "outputHandle": 0,
          "inputHandle": 0
        }
      ],
      "lineType": "solid",
      "lineColor": "#76D72A",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 1.5,
        "density": 100,
        "color": "#F8F8F8",
        "count": 4,
        "direction": "target"
      },
      "handles": {
        "input": 1,
        "output": 2
      }
    },
    {
      "name": "HDFSsink",
      "displayName": "HDFS Sink",
      "description": "RabbitMQ to HDFS.",
      "icon": "üóÑÔ∏è",
      "position": {
        "x": 670.4180825242719,
        "y": 9.450242718446574
      },
      "circleColor": "#e74c3c",
      "clickBehavior": "url",
      "url": "${IMC-HDFS-SINK}",
      "status": {
        "url": "${IMC-HDFS-SINK}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 15000
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange.hdfs-sink-group",
          "valueField": "message_stats.deliver_get"
        },
        {
          "label": "Messages Out",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange.hdfs-sink-group",
          "valueField": "message_stats.ack"
        }
      ],
      "connectTo": [
        {
          "target": "teleExchange",
          "outputHandle": 0,
          "inputHandle": 0
        }
      ],
      "lineType": "solid",
      "lineColor": "#e74c3c",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 5,
        "density": 200,
        "color": "#F8F8F8",
        "count": 5,
        "direction": "target"
      },
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "EventsProc",
      "displayName": "Events Processor",
      "description": "Scan for vehicle events.",
      "icon": "fa-solid fa-gears",
      "position": {
        "x": 660.6529126213593,
        "y": 277.20509708737865
      },
      "circleColor": "#e74c3c",
      "clickBehavior": "url",
      "url": "${IMC-TELEMETRY-PROCESSOR}",
      "status": {
        "url": "${IMC-TELEMETRY-PROCESSOR}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 500
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/telematics_exchange.crash-detection-group",
          "valueField": "message_stats.deliver_get"
        },
        {
          "label": "Messages Out",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events.jdbc-group",
          "valueField": "message_stats.publish"
        }
      ],
      "connectTo": [
        {
          "target": "teleExchange",
          "outputHandle": 1,
          "inputHandle": 0
        }
      ],
      "lineType": "solid",
      "lineColor": "#e74c3c",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 5,
        "density": 200,
        "color": "#F8F8F8",
        "count": 5,
        "direction": "target"
      },
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "hdfs",
      "displayName": "Tanzu Data Lake (HDFS)",
      "description": "Long term storage for telemetry data.",
      "icon": "/assets/icons/hadoop.svg",
      "position": {
        "x": 924.8567961165048,
        "y": 9.450242718446574
      },
      "circleColor": "#e74c3c",
      "clickBehavior": "url",
      "url": "http://big-data-005.kuhn-labs.com:9870/",
      "status": {
        "url": "http://big-data-005.kuhn-labs.com:9870/jmx?qry=Hadoop:service=NameNode,name=NameNodeStatus",
        "valueField": "beans[0].State",
        "upValue": "active",
        "downValue": "standby",
        "updateInterval": 20000
      },
      "dataGrid": [
        {
          "label": "User Capacity (GB)",
          "url": "http://big-data-005.kuhn-labs.com:9870/jmx?qry=Hadoop:service=NameNode,name=FSNamesystemState",
          "valueField": "beans[0].CapacityUsed",
          "transform": "divide_1073741824"
        },
        {
          "label": "# Files",
          "url": "http://big-data-005.kuhn-labs.com:9870/jmx?qry=Hadoop:service=NameNode,name=FSNamesystemState",
          "valueField": "beans[0].FilesTotal"
        }
      ],
      "connectTo": [
        {
          "target": "HDFSsink",
          "outputHandle": 1,
          "inputHandle": 0
        }
      ],
      "lineType": "solid",
      "lineColor": "#e74c3c",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 5,
        "density": 200,
        "color": "#F8F8F8",
        "count": 5,
        "direction": "target"
      },
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "vehicleExchange",
      "displayName": "Vehicle Events Exchange (Queue)",
      "description": "Adverse Events Data.",
      "icon": "/assets/icons/RabbitMQ.svg",
      "position": {
        "x": 921.3058252427185,
        "y": 275.4296116504854
      },
      "circleColor": "#76D72A",
      "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/",
      "status": {
        "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/overview",
        "valueField": "rabbitmq_version",
        "upValue": "4.0.12",
        "downValue": "down",
        "updateInterval": 500
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events",
          "valueField": "message_stats.publish_in"
        },
        {
          "label": "Messages Out",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/exchanges/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events",
          "valueField": "message_stats.publish_out"
        }
      ],
      "connectTo": [
        {
          "target": "EventsProc",
          "outputHandle": 0,
          "inputHandle": 0
        }
      ],
      "lineType": "solid",
      "lineColor": "#76D72A",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 1.5,
        "density": 100,
        "color": "#F8F8F8",
        "count": 4,
        "direction": "target",
        "text": "EVENTS",
        "label": "Processing Pipeline",
        "fontSize": 11,
        "textColor": "#FFD700"
      },
      "handles": {
        "input": 1,
        "output": 2
      }
    },
    {
      "name": "JDBCsink",
      "displayName": "JDBC Sink",
      "description": "Sink Events to Database",
      "icon": "fa-solid fa-database",
      "position": {
        "x": 1150,
        "y": 189.63349514563106
      },
      "circleColor": "#76D72A",
      "url": "${IMC-JDBC-CONSUMER}",
      "status": {
        "url": "${IMC-JDBC-CONSUMER}/actuator/health",
        "valueField": "status",
        "upValue": "UP",
        "downValue": "DOWN",
        "updateInterval": 500
      },
      "dataGrid": [
        {
          "label": "Messages In",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events.jdbc-group",
          "valueField": "message_stats.deliver_get"
        },
        {
          "label": "Messages Out",
          "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/api/queues/cf986537-69cc-4107-8b66-5542481de9ba/vehicle_events.jdbc-group",
          "valueField": "message_stats.ack"
        }
      ],
      "connectTo": [
        {
          "target": "vehicleExchange",
          "outputHandle": 0,
          "inputHandle": 0
        }
      ],
      "lineType": "solid",
      "lineColor": "#76D72A",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 1.5,
        "density": 100,
        "color": "#F8F8F8",
        "count": 4,
        "direction": "target"
      },
      "handles": {
        "input": 1,
        "output": 1
      }
    },
    {
      "name": "gpdb",
      "displayName": "Greenplum Warehouse",
      "description": "Enterprise MPP Data Warehouse with MADlib ML",
      "icon": "/assets/icons/tanzu.png",
      "position": {
        "x": 1398.2245145631068,
        "y": 194.07220873786406
      },
      "circleColor": "#76D72A",
      "clickBehavior": "modal",
      "dataGrid": [],
      "connectTo": [
        {
          "target": "JDBCsink",
          "outputHandle": 0,
          "inputHandle": 1
        },
        {
          "target": "hdfs",
          "outputHandle": 1,
          "inputHandle": 1
        }
      ],
      "lineType": "solid",
      "lineColor": "#76D72A",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 1.5,
        "density": 100,
        "color": "#F8F8F8",
        "count": 4,
        "direction": "target"
      },
      "handles": {
        "input": 1,
        "output": 2
      }
    },
    {
      "name": "logsink",
      "displayName": "Log Sink",
      "description": "Represents External Processing (SMS)",
      "icon": "üìù",
      "position": {
        "x": 1142.898058252427,
        "y": 450.01729091874336
      },
      "circleColor": "#76D72A",
      "url": "https://rmq-cf986537-69cc-4107-8b66-5542481de9ba.sys.tas-ndc.kuhn-labs.com/",
      "status": {
        "url": "https://rabbitmq.example.com/api/overview",
        "valueField": "node",
        "upValue": "running",
        "downValue": "stopped",
        "updateInterval": 15000
      },
      "dataGrid": [
        {
          "label": "Transactions",
          "key": "abc-apikey-for-apiserver",
          "url": "https://api.example.com/api/v2/transactions/count",
          "valueField": "totalTransactions"
        },
        {
          "label": "Latency",
          "key": "session-key-secret-456",
          "url": "https://api.example.com/api/v2/performance",
          "valueField": "averageLatencyMs"
        }
      ],
      "connectTo": [
        {
          "target": "vehicleExchange",
          "outputHandle": 1,
          "inputHandle": 0
        }
      ],
      "lineType": "solid",
      "lineColor": "#76D72A",
      "edgeType": "curved",
      "particles": {
        "enabled": true,
        "speed": 1.5,
        "density": 100,
        "color": "#F8F8F8",
        "count": 4,
        "direction": "target"
      },
      "handles": {
        "input": 1,
        "output": 0
      }
    }
  ]
}